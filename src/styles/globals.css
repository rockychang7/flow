@import 'tailwindcss';
@import '../../node_modules/react-photo-view/dist/react-photo-view.css';

@plugin 'tailwindcss-animate';
@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --font-sans:
    'Maple Mono', 'LXGW WenKai Screen', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'SimSun',
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
  --font-mono:
    'Maple Mono', 'LXGW WenKai Screen', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'SimSun',
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in-slide-up: fade-in-slide-up 0.3s ease-out forwards;
  --animate-fade-out-slide-down: fade-out-slide-down 1s ease-out forwards;

  --ease-slow: cubic-bezier(0.405, 0, 0.025, 1);
  --ease-minor-spring: cubic-bezier(0.18, 0.89, 0.82, 1.04);

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes fade-in-slide-up {
    0% {
      opacity: 0;
      transform: translateY(1rem);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fade-out-slide-down {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(1rem);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
    :root {
        /* Minimal 极简风格 - 纯净黑白灰配色 */
        --gradient: none;
        --background: 0 0% 100%;
        --foreground: 0 0% 10%;
        --muted: 0 0% 96%;
        --muted-foreground: 0 0% 45%;
        --popover: 0 0% 100%;
        --popover-foreground: 0 0% 10%;
        --card: 0 0% 100%;
        --card-foreground: 0 0% 10%;
        --border: 0 0% 90%;
        --input: 0 0% 90%;
        --primary: 0 0% 15%;
        --primary-foreground: 0 0% 98%;
        --secondary: 0 0% 96%;
        --secondary-foreground: 0 0% 15%;
        --accent: 0 0% 96%;
        --accent-foreground: 0 0% 15%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --ring: 0 0% 15%;
        --radius: 0.5rem;
        --chart-1: 0 0% 20%;
        --chart-2: 0 0% 35%;
        --chart-3: 0 0% 50%;
        --chart-4: 0 0% 65%;
        --chart-5: 0 0% 80%;
    }

    .dark {
        /* Minimal 极简风格 - 暗色模式 */
        --gradient: none;
        --background: 0 0% 8%;
        --foreground: 0 0% 92%;
        --muted: 0 0% 15%;
        --muted-foreground: 0 0% 55%;
        --popover: 0 0% 12%;
        --popover-foreground: 0 0% 92%;
        --card: 0 0% 12%;
        --card-foreground: 0 0% 92%;
        --border: 0 0% 20%;
        --input: 0 0% 20%;
        --primary: 0 0% 85%;
        --primary-foreground: 0 0% 10%;
        --secondary: 0 0% 15%;
        --secondary-foreground: 0 0% 92%;
        --accent: 0 0% 15%;
        --accent-foreground: 0 0% 92%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 0 0% 92%;
        --ring: 0 0% 85%;
        --chart-1: 0 0% 80%;
        --chart-2: 0 0% 65%;
        --chart-3: 0 0% 50%;
        --chart-4: 0 0% 35%;
        --chart-5: 0 0% 20%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    html {
        scroll-behavior: smooth;
        scroll-padding-top: 2rem; /* Add some padding for better target positioning */
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1; /* 开启连字 */
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* 全局链接样式 - 默认无下划线，hover时显示 */
    a {
        text-decoration: none;
        transition: text-decoration 0.2s ease;
    }

    /* 移除全局 hover 下划线，改用自定义动画 */
    a:not(.group):hover {
        text-decoration: underline;
    }

    /* 优化全局链接样式，避免与自定义组件冲突 */
    .group a {
        text-decoration: none;
    }


    .bg-gradient {
        background: var(--gradient)
    }
}

/* Ensure PhotoView appears above everything including sticky headers */
.PhotoView-Portal,
.PhotoView-Portal > div,
.PhotoView__Photo,
.PhotoView-Slider,
.PhotoView-Slider__Backdrop {
    z-index: 99999 !important;
}



#dialog-portal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 50;
}

#dialog-portal > * {
    pointer-events: auto;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.animate-fade-in {
    animation: fadeIn 0.5s ease-out;
}

.animate-fade-in-up {
    animation: fadeInUp 0.5s ease-out;
}

.animate-fade-in-left {
    animation: fadeInLeft 0.5s ease-out;
}